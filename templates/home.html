{% extends "base.html" %}

{% block title %}Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª{% endblock %}

{% block content %}
<div class="page-header fade-up">
    <div class="page-header-content">
        <div>
            <h1 class="page-title">Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h1>
            <p class="page-subtitle">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</p>
        </div>
    </div>
</div>

<div class="glass-card fade-up">
    <h2 style="color: #10b981; margin-bottom: 20px;">âœ… Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­!</h2>
    <p style="margin-bottom: 15px;">ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø®Ø§Ø¯Ù… Railway Ø¨Ù†Ø¬Ø§Ø­.</p>
    
    <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(16, 185, 129, 0.3);">
        <h3 style="margin-bottom: 15px;">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…:</h3>
        <ul style="list-style: none; padding: 0;">
            <li style="margin-bottom: 10px;">ğŸ“ Ø§Ù„Ø­Ø§Ù„Ø©: <span style="color: #10b981;">Ù†Ø´Ø·</span></li>
            <li style="margin-bottom: 10px;">ğŸ”— Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: <span id="db-status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...</span></li>
            <li style="margin-bottom: 10px;">ğŸ“Š Ø§Ù„Ø¥ØµØ¯Ø§Ø±: 1.0.0</li>
        </ul>
    </div>
    
    <div style="margin-top: 30px;">
        <button onclick="testDatabase()" class="btn btn-info">Ø§Ø®ØªØ¨Ø§Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        <button onclick="checkEnvironment()" class="btn btn-warning" style="margin-right: 10px;">ÙØ­Øµ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª</button>
    </div>
</div>

<script>
// Ø§Ø®ØªØ¨Ø§Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
async function testDatabase() {
    try {
        const response = await fetch('/test-db');
        const data = await response.json();
        
        const statusEl = document.getElementById('db-status');
        if (data.status === 'success') {
            statusEl.innerHTML = '<span style="color: #10b981;">Ù…ØªØµÙ„</span>';
            alert('âœ… ' + data.message);
        } else {
            statusEl.innerHTML = '<span style="color: #ef4444;">ØºÙŠØ± Ù…ØªØµÙ„</span>';
            alert('âŒ ' + data.message);
        }
    } catch (error) {
        alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: ' + error.message);
    }
}

// ÙØ­Øµ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
async function checkEnvironment() {
    try {
        const response = await fetch('/check-env');
        const data = await response.json();
        
        let message = 'Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª:\n\n';
        for (const [key, value] of Object.entries(data)) {
            message += `${key}: ${value}\n`;
        }
        
        alert(message);
    } catch (error) {
        alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙØ­Øµ: ' + error.message);
    }
}

// Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
window.onload = function() {
    testDatabase();
}
</script>
{% endblock %}
